<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>CAM² COVID-19</title>
        <link rel="icon" type="image/x-icon" href="favicon.ico"/>
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,600,800,800i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;1,100;1,200;1,500;1,600&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.rawgit.com/konpa/devicon/df6431e323547add1b4cf45992913f15286456d3/devicon.min.css">
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{{ url_for('static', filename='css/styles.css') }}"  type="text/css" rel="stylesheet" />
        <link href="{{ url_for('static', filename='css/test.css') }}"  type="text/css" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/resume.css') }}"  type="text/css"  rel="stylesheet">
        <link href="{{ url_for('static', filename='css/hamburgers.css') }}"  type="text/css"  rel="stylesheet">
        <!--css scripts for jquery slider-->
        <link rel="stylesheet" href="//apps.bdimg.com/libs/jqueryui/1.10.4/css/jquery-ui.min.css">
        <script src="//apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    </head>
    <header id="stickyheaders">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-md navbar-dark fixed-top navbar-custom shadow-sm" style="transition: top 0.3s; padding-top: 0px !important; padding-bottom: 0px !important;" id="mainNav">
        <div class="container">
            <a href="https://covid19.purduehelps.org/" class="navbar-brand js-scroll-trigger navbar-image">
            <img style="width: 65px; height: 39px;" src="{{url_for('static', filename='img/Cam_2.png')}}">
            </a>
            <button class="hamburger hamburger--spin navbar-toggler navbar-mobile-element" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"  type="button" style="margin-top: 5px !important;">
            <span class="hamburger-box">
                <span class="hamburger-inner"></span>
            </span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ml-auto">
                    <li class="nav-item"> <a href="https://covid19.purduehelps.org/" class="nav-item nav-link" style="font-family: 'Exo 2', sans-serif; font-size: 20px; font-weight: 100; text-decoration: none !important; ">Home</a> </li>
                    <li class="nav-item"> <a href="https://covid19.purduehelps.org/timeline/" class="nav-item nav-link" style="font-family: 'Exo 2', sans-serif; font-size: 20px; font-weight: 100; text-decoration: none !important;">Timeline</a> </li>
                    <li class="nav-item"> <a href="https://covid19.purduehelps.org/research/" class="nav-item nav-link" style="font-family: 'Exo 2', sans-serif; font-size: 20px; font-weight: 100; text-decoration: none !important;">Research</a> </li>
                    <li class="nav-item active"> <a href="https://covid19.purduehelps.org/analysis/" class="nav-item nav-link active" style="font-family: 'Exo 2', sans-serif; font-size: 20px; font-weight: 100;  text-decoration: none !important;">Analysis<span class="sr-only">(current)</span></a> </li>
                    <li class="nav-item"> <a href="https://covid19.purduehelps.org/members/" class="nav-item nav-link" style="font-family: 'Exo 2', sans-serif; font-size: 20px; font-weight: 100;  text-decoration: none !important; ">Members</a> </li>
                    <li class="nav-item"> <a href="https://www.cam2project.net/" class="nav-item nav-link" style="font-family: 'Exo 2', sans-serif; font-size: 20px; font-weight: 100;  text-decoration: none !important; " target="_blank">CAM²</a> </li>
                    <!--Hwy-->
                </div>
            </div>
        </div>
        </nav>
    </header>
    <body id="page-top" style="margin-top:-100px;">
        <section class="projects-section bg-light" id="members">
            <div class="container">
                <h3 class="mb-0" style="font-family: 'Exo 2', sans-serif; color: #1B1B1B; font-weight: 400;">Vehicle and People Counts</h3>
                <br>
                <p class="text-black-50 mb-5" style="margin-top: -10px;">In the past summer, our research team collected and analyzed data from over 10,000 worldwide cameras. We use number of vehicles and crowd sizes as indication of whether people are following social distancing guidelines. Specifically, we focused on 9,752 cameras to analyze traffic and 3,254 cameras to count people. Below are histograms of vehicle and people counts in selected countries from April 1, 2020 to August 1, 2020.</p>
                
                <!--This p includes all the display of generating a plot-->
                <p>
                    <!--Slide bar value display-->
                    <label for="amount">Vehicle Count from </label>
                    <input type="text" id="amount1" style="border:0; color:#f6931f; font-weight:bold;" size = "2">
                    to
                    <input type="text" id="amount2" style="border:0; color:#f6931f; font-weight:bold;" size = "2"> 
                    <!--Select country-->
                    <div>
                        <select id="country">
                          <option value="usa">USA</option>
                          <option value="france">France</option>
                          <option value="italy">Italy</option>
                        </select>
                    </div>
                
                    <br>
                    <!--Slide bar-->
                    <div id="slider-range"></div>
                    <br>
                    <!--View plot button-->
                    <button type="button" id="query" style="background-color: #555555;
                        border: none;
                        color: white;
                        text-align: center;
                        text-decoration: none;
                        display: inline-block;
                        font-size: 16px;
                        margin: auto;
                        top: 0; left: 0; right: 0; bottom: 0;
                        cursor: pointer;">View Plot</button>
                    <!--Display when loading the plot-->
                    <div id="loading-div-background">
                        <div id="loading-div" class="ui-corner-all" >
                        <h3 style="color:gray;font-weight:normal;">Loading....</h3>
                        </div>
                    </div>
                  <!--Container for the plot-->
                  <div id="container" style="width:700px; height:500px;"></div>
                </p>

                <!-- A paragraph of vehicle detection-->
                <h3 class="mb-0" style="font-family: 'Exo 2', sans-serif; color: #1B1B1B; font-weight: 400;">Violation Detection</h3>
                <br>
                    <p class="text-black-50 mb-5" style="margin-top: -10px;">The following is an example picture of our violation detection model. Red and green bounding boxes represent people violating social distancing guidelines and following them.</p>
                <div class="row">
                    <img src="{{url_for('static', filename='img/violation.png')}}"
                    style="width:400px;height:300px;">
                </div>
                <hr>
                <br>
                <!-- /.row -->
            </div>
        </section>
        <footer class="footer bg-black small text-center text-white-50"><div class="container">Copyright © CAM² 2020</div></footer>
        <!-- Javascript code -->
        <script type="text/javascript">
            $("#loading-div-background").css({ opacity: 0.7 });
            /* This function customize the slide bar*/
            $(function() {
            $( "#slider-range" ).slider({
              range: true,
              min: 1,
              max: 31,
              values: [ 1, 31 ],
              slide: function( event, ui ) {
                $( "#amount1" ).val(ui.values[ 0 ]);
                $( "#amount2" ).val(ui.values[ 1 ]);
              }
            });
            $( "#amount1" ).val($( "#slider-range" ).slider( "values", 0 ));
            $( "#amount2" ).val($( "#slider-range" ).slider( "values", 1 ));
            });

            
            $("#loading-div-background").css({ opacity: 0.7 });
              
            /* Customize button "View Plot" */
            $("#query").click(function() {  
                $("#loading-div-background").show();
                $("#container").hide();
                /* Get value of slide bar */
                var start = document.getElementById("amount1").value
                var end = document.getElementById("amount2").value
                var qu = {"start":start, "end":end};
                /* ajax request: send range value and receive the plot*/
                $.ajax({
                type: "POST",
                async:true,
                contentType: "application/json; charset=utf-8",
                url: "/query",
                data: JSON.stringify(qu),
                dataType: "html",
                /* function if the request succeeds */
                success: function (data) {   
                $("#container").html(data);   
                $("#loading-div-background").hide(); 
                $("#container").show();
                },
                /* function if the request fails */
                error: function (e) {
                    console.log("error")
                }
                });
            });
      </script>

        <script type="text/javascript" src="{{ url_for('static', filename='js/scripts.js') }}"></script>
        <script type="text/javascript" src="{{ url_for('static', filename='js/owl.carousel.min.js') }}"></script>

    </body>
</html>
<!--                navText: ["<i class='fa fa-arrow-left fa-2x' style='color: #1B1B1B !important;'></i>", "<i class='fa fa-arrow-right fa-2x' style='color: #1B1B1B !important'></i>"],
-->
